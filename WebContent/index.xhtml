<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:c="http://xmlns.jcp.org/jstl/core">
<h:head>
	<title>Greenplace | Catalog</title>
	<ui:include src="/shared/imports.xhtml" />
</h:head>
<h:body>
	<ui:include src="/shared/header.xhtml" />
	<div class="container mt-5">
		<h1 class="text-center mb-5">Product Catalog</h1>
		<table class="table table-striped table-hover">
			<thead>
				<tr>
					<th>Product Name</th>
					<th>Price</th>
					<th></th>
				</tr>
			</thead>
			<tbody>
				<ui:repeat value="#{productBean.products}" var="product">
					<tr>
						<td>#{product.name}</td>
						<td>${product.price}</td>
						<td><h:form>
								<h:commandButton value="Add to Cart"
									action="#{cartBean.addToCart(product)}" class="btn btn-primary" />
							</h:form></td>
					</tr>
				</ui:repeat>
			</tbody>
		</table>
		<h2 class="text-center mt-5">Shopping Cart</h2>
		<h:form class="text-end" rendered="#{cartBean.getSize() > 0}">
			<h:commandButton value="Clean cart" action="#{cartBean.cleanCart()}"
				class="btn btn-danger" />
		</h:form>
		<table class="table table-striped table-hover">
			<thead>
				<tr>
					<th>Product Name</th>
					<th>Quantity</th>
				</tr>
			</thead>
			<tbody>
				<ui:repeat value="#{cartBean.items}" var="item">
					<tr>
						<td>#{item.product.name}</td>
						<td>#{item.quantity}</td>
					</tr>
				</ui:repeat>
			</tbody>
		</table>
	</div>
	<ui:include src="/shared/footer.xhtml" />
</h:body>
</html>
